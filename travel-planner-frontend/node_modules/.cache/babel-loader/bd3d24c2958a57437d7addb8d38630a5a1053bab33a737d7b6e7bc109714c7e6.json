{"ast":null,"code":"import{React,useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Update=()=>{const{id}=useParams();const[start,setStart]=useState();const[destination,setDestination]=useState();const[start_date,setSdate]=useState();const[end_date,setEdate]=useState();const[mode,setMode]=useState();const[notes,setNotes]=useState();const navigate=useNavigate();useEffect(()=>{axios.get('https://travel-planner-4mrm.onrender.com/getTripId/'+id).then(result=>{console.log(result);setStart(result.data.start);setDestination(result.data.destination);setSdate(result.data.start_date);setEdate(result.data.end_date);setMode(result.data.mode);setNotes(result.data.notes);}).catch(err=>console.log(err));},[]);// const updateTrip = async ()=>{\n//   console.log(\"Add Trip function exicuted\", tripDetails);\n//   let responseData;\n//   await fetch('https://travel-planner-4mrm.onrender.com/updateTrip',{\n//     method:'PUT',\n//     headers:{\n//       Accept:'application/form-data',\n//       'Content-Type':'application/json',\n//     },\n//     body:JSON.stringify(tripDetails),\n//   }).then((response)=> response.json())\n//   .then((data)=>responseData=data)\n//   if(responseData.success){\n//     alert(\"TRIP PLAN UPDATED\");\n//     window.location.replace(\"/page1\");\n//   }\n//   else{\n//     alert(\"FAILED\" + responseData.errors )\n//   }\n// }\nconst submit=e=>{e.preventDefault();};const updateTrip=async()=>{console.log(\"update function called\");axios.put(\"https://travel-planner-4mrm.onrender.com/updateTrip\"+id,{start,destination,start_date,end_date,mode,notes}).then(result=>{console.log(result);navigate('/page1');}).catch(err=>console.log(err));};// const [tripDetails,setTripDetails] = useState({\n//   // user_id:\"\",\n//   start:\"\",\n//   destination:\"\",\n//   start_date:\"\",\n//   end_date:\"\",\n//   mode:\"bike\",\n//   notes:\"  \",\n// })\n// const submit =(e) =>{\n//   e.preventDefault();\n// }\n// const changehandler = (e) =>{\n//   setTripDetails({...tripDetails,[e.target.name]:e.target.value})\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"create\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:submit,className:\"create-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"update trip\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-create\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"start\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"enter the start location\",className:\"input\",value:start,onChange:e=>{setStart(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-create\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"destination\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"enter the destination\",className:\"input\",value:destination,onChange:e=>{setDestination(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-create\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"start date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"enter the start date\",className:\"input\",value:start_date,onChange:e=>{setSdate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-create\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"end date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"enter the end date\",className:\"input\",value:end_date,onChange:e=>{setEdate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-create\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"mode of travel\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"\",id:\"\",value:mode,onChange:setMode,children:[/*#__PURE__*/_jsx(\"option\",{value:\"bike\",children:\"bike\"}),/*#__PURE__*/_jsx(\"option\",{value:\"train\",children:\"train\"}),/*#__PURE__*/_jsx(\"option\",{value:\"car\",children:\"car\"}),/*#__PURE__*/_jsx(\"option\",{value:\"travelBus\",children:\"travel bus\"}),/*#__PURE__*/_jsx(\"option\",{value:\"airplane\",children:\"airplane\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-create\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"notes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"notes about this trip\",className:\"input\",value:notes,onChange:e=>{setNotes(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"addtripbtn\",onClick:()=>{updateTrip();},children:\" update trip\"})]})});};export default Update;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Update","id","start","setStart","destination","setDestination","start_date","setSdate","end_date","setEdate","mode","setMode","notes","setNotes","navigate","get","then","result","console","log","data","catch","err","submit","e","preventDefault","updateTrip","put","className","children","action","onSubmit","type","placeholder","value","onChange","target","name","onClick"],"sources":["E:/Travel-Planner/travel-planner-frontend/src/Components/Update/Update.jsx"],"sourcesContent":["import {React , useEffect, useState} from 'react'\r\nimport { useParams, useNavigate} from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Update = () => {\r\n\r\n  const {id} = useParams();\r\n  const [start,setStart] = useState();\r\n  const [destination,setDestination] = useState();\r\n  const [start_date,setSdate] = useState();\r\n  const [end_date,setEdate] = useState();\r\n  const [mode,setMode] = useState();\r\n  const [notes,setNotes] = useState();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(()=>{\r\n    axios.get('https://travel-planner-4mrm.onrender.com/getTripId/'+id)\r\n    .then(result => {console.log(result)\r\n      setStart(result.data.start)\r\n      setDestination(result.data.destination)\r\n      setSdate(result.data.start_date)\r\n      setEdate(result.data.end_date)\r\n      setMode(result.data.mode)\r\n      setNotes(result.data.notes)\r\n    })\r\n    .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  // const updateTrip = async ()=>{\r\n  //   console.log(\"Add Trip function exicuted\", tripDetails);\r\n  //   let responseData;\r\n  //   await fetch('https://travel-planner-4mrm.onrender.com/updateTrip',{\r\n  //     method:'PUT',\r\n  //     headers:{\r\n  //       Accept:'application/form-data',\r\n  //       'Content-Type':'application/json',\r\n  //     },\r\n  //     body:JSON.stringify(tripDetails),\r\n  //   }).then((response)=> response.json())\r\n  //   .then((data)=>responseData=data)\r\n  //   if(responseData.success){\r\n  //     alert(\"TRIP PLAN UPDATED\");\r\n  //     window.location.replace(\"/page1\");\r\n  //   }\r\n  //   else{\r\n  //     alert(\"FAILED\" + responseData.errors )\r\n  //   }\r\n\r\n  // }\r\n\r\n  const submit =(e) =>{\r\n    e.preventDefault();\r\n  }\r\n\r\n\r\n  const updateTrip = async ()=> {\r\n    console.log(\"update function called\");\r\n    axios.put(\"https://travel-planner-4mrm.onrender.com/updateTrip\" + id, {start,destination,start_date,end_date,mode,notes})\r\n    .then(result =>{\r\n      console.log(result)\r\n      navigate('/page1')\r\n    })\r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  // const [tripDetails,setTripDetails] = useState({\r\n  //   // user_id:\"\",\r\n  //   start:\"\",\r\n  //   destination:\"\",\r\n  //   start_date:\"\",\r\n  //   end_date:\"\",\r\n  //   mode:\"bike\",\r\n  //   notes:\"  \",\r\n  // })\r\n\r\n  // const submit =(e) =>{\r\n  //   e.preventDefault();\r\n  // }\r\n\r\n  // const changehandler = (e) =>{\r\n  //   setTripDetails({...tripDetails,[e.target.name]:e.target.value})\r\n  // }\r\n\r\n\r\n\r\n  return (\r\n    <div className='create'>\r\n        <form action=\"\" onSubmit={submit} className='create-form'>\r\n            <h1>update trip</h1>\r\n            <div className=\"input-create\">\r\n              <h6>start</h6>\r\n              <input type=\"text\" placeholder='enter the start location' className='input' value={start} onChange={(e)=>{setStart(e.target.value)}} />\r\n            </div>\r\n\r\n            <div className=\"input-create\">\r\n              <h6>destination</h6>\r\n              <input type=\"text\" placeholder='enter the destination' className='input' value={destination} onChange={(e)=>{setDestination(e.target.value)}}  />\r\n            </div>\r\n\r\n            <div className=\"input-create\">\r\n              <h6>start date</h6>\r\n              <input type=\"text\" placeholder='enter the start date' className='input' value={start_date} onChange={(e)=>{setSdate(e.target.value)}} />\r\n            </div>\r\n\r\n            <div className=\"input-create\">\r\n              <h6>end date</h6>\r\n              <input type=\"text\" placeholder='enter the end date' className='input' value={end_date} onChange={(e)=>{setEdate(e.target.value)}}  />\r\n            </div>\r\n\r\n            <div className=\"input-create\">\r\n              <h6>mode of travel</h6>\r\n              <select name=\"\" id=\"\" value={mode} onChange={setMode} >\r\n                <option value=\"bike\">bike</option>\r\n                <option value=\"train\">train</option>\r\n                <option value=\"car\">car</option>\r\n                <option value=\"travelBus\">travel bus</option>\r\n                <option value=\"airplane\">airplane</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"input-create\">\r\n              <h6>notes</h6>\r\n              <input type=\"text\" placeholder='notes about this trip' className='input' value={notes} onChange={(e)=>{setNotes(e.target.value)}} />\r\n            </div>\r\n\r\n            <button type='submit' className='addtripbtn' onClick={() => {updateTrip()}} > update trip</button>\r\n            \r\n        </form>\r\n        \r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Update\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}